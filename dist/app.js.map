{"version":3,"sources":["../src/app.js"],"names":["url","mongoose","Promise","global","connect","app","PORT","use","express","json","urlencoded","swaggerUi","serve","setup","swaggerDocument","explorer","router","req","res","next","error","Error","message","status","listen","console","log"],"mappings":";;AAAA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,MAAM,gFAAZ;;AAEAC,mBAASC,OAAT,GAAmBC,OAAOD,OAA1B;AACAD,mBAASG,OAAT,CAAiBJ,GAAjB;AACA,IAAMK,MAAM,wBAAZ;AACA,IAAMC,OAAO,IAAb;;AAEAD,IAAIE,GAAJ,CAAQC,kBAAQC,IAAR,EAAR;AACAJ,IAAIE,GAAJ,CAAQC,kBAAQE,UAAR,EAAR;AACAL,IAAIE,GAAJ,CAAQ,sBAAO,KAAP,CAAR;AACAF,IAAIE,GAAJ,CAAQ,WAAR,EAAqBI,2BAAUC,KAA/B,EAAsCD,2BAAUE,KAAV,CAAgBC,iBAAhB,EAAiC;AACnEC,cAAU;AADyD,CAAjC,CAAtC;AAGAV,IAAIE,GAAJ,CAAQ,MAAR,EAAgBS,cAAhB;AACAX,IAAIE,GAAJ,CAAQ,UAACU,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACxB,QAAMC,QAAQ,IAAIC,KAAJ,CAAU,WAAV,CAAd;AACAD,UAAME,OAAN,GAAgB,eAAhB;AACAF,UAAMG,MAAN,GAAe,GAAf;AACAJ,SAAKC,KAAL;AACH,CALD;;AAOAf,IAAIE,GAAJ,CAAQ,UAACa,KAAD,EAAQH,GAAR,EAAaC,GAAb,EAAkBC,IAAlB,EAA2B;AAC/BD,QAAIK,MAAJ,CAAWH,MAAMG,MAAN,IAAgB,GAA3B;AACA,WAAOL,IAAIT,IAAJ,CAAS;AACZW,eAAO;AACHE,qBAASF,MAAME;AADZ;AADK,KAAT,CAAP;AAKH,CAPD;;AASAjB,IAAImB,MAAJ,CAAWlB,IAAX,EAAiB,YAAM;AACnBmB,YAAQC,GAAR,gCAAyCpB,IAAzC;AACH,CAFD","file":"app.js","sourcesContent":["import express from 'express';\r\nimport mongoose from 'mongoose';\r\nimport { router } from './api/config/routes';\r\nimport logger from 'morgan';\r\nimport swaggerUi  from 'swagger-ui-express';\r\nimport swaggerDocument from './api/config/swagger.json';\r\n\r\nconst url = \"mongodb+srv://Danientc:Deaf10sw-mx@cluster0.z2sxima.mongodb.net/invoices-build\"\r\n\r\nmongoose.Promise = global.Promise;\r\nmongoose.connect(url);\r\nconst app = express();\r\nconst PORT = 3000;\r\n\r\napp.use(express.json());\r\napp.use(express.urlencoded());\r\napp.use(logger('dev')); \r\napp.use(\"/api-docs\", swaggerUi.serve, swaggerUi.setup(swaggerDocument, {\r\n    explorer: true\r\n}));\r\napp.use('/api', router);\r\napp.use((req, res, next) => {\r\n    const error = new Error('Not found');\r\n    error.message = 'Invalid route';\r\n    error.status = 404;\r\n    next(error);\r\n});\r\n\r\napp.use((error, req, res, next) => {\r\n    res.status(error.status || 500);\r\n    return res.json({\r\n        error: {\r\n            message: error.message,\r\n        }\r\n    });\r\n});\r\n\r\napp.listen(PORT, () => {\r\n    console.log(`Server is running at PORT ${PORT}`);\r\n});"]}